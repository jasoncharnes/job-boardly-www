<main class="isolate">
  <!-- Hero section -->
  <div class="relative">
    <div class="py-24 sm:py-32">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-5xl text-center">
          <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl"><%= content.text :heading %></h1>
          <div class="mx-auto max-w-2xl">
            <p class="mt-6 text-lg leading-8 text-gray-600"><%= content.text :subheading %></p>
          </div>
          <div class="mt-10 flex items-center justify-center gap-x-6">
            <%= link_to current_account.content(:cta_button), registration_path, class: "rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600" %>
            <a href="#features" class="text-sm font-semibold leading-6 text-gray-900">Learn more <span aria-hidden="true">→</span></a>
          </div>
          <div class="mt-8 flex items-center justify-center gap-x-3">
            <div class="isolate flex -space-x-2 overflow-hidden">
              <% count = content(:social_proof_avatars).count %>
              <% index = 0 %>
              <% repeater(:social_proof_avatars) do |avatar| %>
                <%= avatar.content.image_tag(:avatar, {}, class: class_names("relative inline-block h-10 w-10 object-cover rounded-full ring-2 ring-white", "z-50": count - index == 5, "z-40": count - index == 4, "z-30": count - index == 3, "z-20": count - index == 2, "z-10": count - index == 1)) %>
                <% index += 1%>
              <% end %>
            </div>
            <span class="text-gray-600 leading-6 font-medium"><%= content.text(:social_proof_text) %></span>
          </div>
        </div>
        <div class="mt-16 flow-root sm:mt-24">
          <div class="-m-2 rounded-xl bg-gray-900/5 p-2 ring-1 ring-inset ring-gray-900/10 lg:-m-4 lg:rounded-2xl lg:p-4">
            <%= image_tag "dashboard.jpg", class: "rounded-md shadow-2xl ring-1 ring-gray-900/10", alt: "App screenshot" %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Logo cloud -->
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto grid max-w-lg grid-cols-4 items-center gap-x-8 gap-y-12 sm:max-w-xl sm:grid-cols-6 sm:gap-x-10 sm:gap-y-14 lg:mx-0 lg:max-w-none lg:grid-cols-5">
      <%= link_to "https://www.getoutdoorjobs.com", class: "col-span-2 lg:col-span-1", target: :_blank do %>
        <%= image_tag "boards/get-outdoor-jobs.png", class: "max-h-12 w-full object-contain", alt: "Get Outdoor Jobs logo" %>
      <% end %>
      <%= link_to "https://fitnessjobs.global", class: "col-span-2 lg:col-span-1", target: :_blank do %>
        <%= image_tag "boards/fitness-jobs.png", class: "max-h-12 w-full object-contain", alt: "Fitness Jobs logo" %>
      <% end %>
      <%= link_to "https://jobs.gorails.com", class: "col-span-2 lg:col-span-1", target: :_blank do %>
        <%= image_tag "boards/gorails.svg", class: "max-h-12 w-full object-contain", alt: "GoRails logo" %>
      <% end %>
      <%= link_to "https://jobs.worktugal.com", class: "col-span-2 sm:col-start-2 lg:col-span-1", target: :_blank do %>
        <%= image_tag "boards/worktugal.png", class: "max-h-12 w-full object-contain", alt: "Worktugal logo" %>
      <% end %>
      <%= link_to "https://jobs.auditfriendly.co", class: "col-span-2 col-start-2 sm:col-start-auto lg:col-span-1", target: :_blank do %>
        <%= image_tag "boards/audit-friendly.png", class: "max-h-12 w-full object-contain", alt: "Audit Friendly logo" %>
      <% end %>
    </div>
  </div>

  <!-- Features section -->
  <div class="mx-auto mt-32 max-w-7xl px-6 sm:mt-56 lg:px-8" id="features">
    <div class="mx-auto max-w-2xl lg:text-center">
      <h2 class="text-base font-semibold leading-7 text-blue-600">Features</h2>
      <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"><%= content.text :features_heading %></p>
      <p class="mt-6 text-lg leading-8 text-gray-600"><%= content.text :features_subheading %></p>
    </div>
    <div class="mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none">
      <dl class="grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3">
        <% features.each do |feature| %>
          <div class="flex flex-col">
            <dt class="flex items-center gap-x-3 text-base font-semibold leading-7 text-gray-900">
              <%= heroicon feature.content.text(:icon), class: "h-5 w-5 text-blue-600" %>
              <%= feature.title %>
            </dt>
            <dd class="mt-4 flex flex-auto flex-col text-base leading-7 text-gray-600">
              <p class="flex-auto"><%= feature.content.text(:summary) %></p>
              <p class="mt-6">
                <%= link_to feature.materialized_path, class: "text-sm font-semibold leading-6 text-blue-600" do %>
                  Learn more <span aria-hidden="true">→</span>
                <% end %>
              </p>
            </dd>
          </div>
        <% end %>
      </dl>
    </div>
  </div>

  <!-- Testimonial section -->
  <div class="bg-white mt-32 sm:mt-48">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-3xl text-center">
        <h2 class="text-base font-semibold leading-7 text-blue-600">Testimonials</h2>
        <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"><%= content.text(:testimonials_heading) %></p>
        <p class="mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-gray-600"><%= content.text(:testimonials_subheading) %></p>
      </div>
      <div class="mx-auto mt-16 flow-root max-w-2xl sm:mt-20 lg:mx-0 lg:max-w-none">
        <div class="-mt-8 sm:-mx-4 sm:columns-2 sm:text-[0] lg:columns-3">
          <% repeater(:testimonials) do |testimonial| %>
            <div class="pt-8 sm:inline-block sm:w-full sm:px-4">
              <figure class="rounded-2xl bg-gray-50 p-8 text-sm leading-6">
                <blockquote class="text-gray-900">
                  <p>“<%= testimonial.content(:quote) %>”</p>
                </blockquote>
                <figcaption class="mt-6 flex items-center gap-x-4">
                  <%= testimonial.content.image_tag(:avatar, {}, class: "h-10 w-10 object-cover rounded-full bg-gray-50", alt: testimonial.content(:name)) %>
                  <div>
                    <div class="font-semibold text-gray-900"><%= testimonial.content(:name) %></div>
                    <div class="text-gray-600"><%= testimonial.content(:company) %></div>
                  </div>
                </figcaption>
              </figure>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <!-- Pricing section -->
  <div class="bg-white py-24 sm:pt-48" x-data="{ checked: 'yearly' }">
    <div class="mx-auto max-w-7xl px-6 lg:px-8" id="pricing">
      <div class="mx-auto max-w-4xl text-center">
        <h2 class="text-base font-semibold leading-7 text-blue-600">Pricing</h2>
        <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"><%= content.text :pricing_heading %></p>
      </div>
      <p class="mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-gray-600"><%= content.text :pricing_subheading %></p>
      <div class="mt-16 flex justify-center">
        <fieldset class="grid grid-cols-2 gap-x-1 rounded-full p-1 text-center text-xs font-semibold leading-5 ring-1 ring-inset ring-gray-200">
          <legend class="sr-only">Payment frequency</legend>
          <label class="cursor-pointer rounded-full px-2.5 py-1" @click="checked = 'monthly'" :class="checked == 'monthly' ? 'bg-blue-600 text-white' : 'text-gray-500'">
            <input type="radio" name="frequency" value="monthly" class="sr-only">
            <span>Monthly</span>
          </label>
          <label class="cursor-pointer rounded-full px-2.5 py-1" @click="checked = 'yearly'" :class="checked == 'yearly' ? 'bg-blue-600 text-white' : 'text-gray-500'">
            <input type="radio" name="frequency" value="yearly" class="sr-only">
            <span>Yearly</span>
          </label>
        </fieldset>
      </div>
      <div class="isolate mx-auto mt-10 grid max-w-md grid-cols-1 gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-3">
        <% current_account.content(:prices).each.with_index do |price, index| %>
          <div class="rounded-3xl p-8 xl:p-10 ring-1 ring-gray-200">
            <div class="flex items-center justify-between gap-x-4">
              <%= tag.h3 price.content.text(:heading), class: "text-lg font-semibold leading-8 text-gray-900", id: "tier-#{index}" %>
            </div>
            <p class="mt-4 text-sm leading-6 text-gray-600"><%= price.content.text :subheading %></p>
            <p class="mt-6 flex items-baseline gap-x-1">
              <span class="text-4xl font-bold tracking-tight text-gray-900">$
                <span x-show="checked == 'monthly'"><%= price.content.text :monthly_price %></span>
                <span x-show="checked == 'yearly'"><%= price.content.text :yearly_price %></span>
              </span>
              <span class="text-sm font-semibold leading-6 text-gray-600">/month</span>
              <p class="text-xs mt-2 text-gray-400" x-show="checked == 'yearly'">($<%= price.content.text(:yearly_price).to_i * 12 %> billed yearly)</p>
            </p>
            <%= link_to current_account.content(:cta_button), registration_path, aria: {describedby: "tier-#{index}"}, class: "mt-6 block rounded-md py-2 px-3 text-center text-sm font-semibold leading-6 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white shadow-sm hover:bg-blue-500 focus-visible:outline-blue-600" %>
            <ul role="list" class="mt-8 space-y-3 text-sm leading-6 text-gray-600 xl:mt-10">
              <% price.content(:price_features).each do |feature| %>
                <li class="flex gap-x-3">
                  <svg class="h-6 w-5 flex-none text-blue-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd" />
                  </svg>
                  <%= feature.content.text :text %>
                </li>
              <% end %>
            </ul>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <!-- FAQs -->
  <div class="mx-auto max-w-2xl divide-y divide-gray-900/10 mt-12 px-6 pb-8 sm:pb-24 sm:pt-12 lg:max-w-7xl lg:px-8">
    <h2 class="text-2xl font-bold leading-10 tracking-tight text-gray-900">Frequently asked questions</h2>
    <dl class="mt-10 space-y-8 divide-y divide-gray-900/10">
      <% current_account.content(:faqs).each do |faq| %>
        <div class="pt-8 lg:grid lg:grid-cols-12 lg:gap-8">
          <dt class="text-base font-semibold leading-7 text-gray-900 lg:col-span-5"><%= faq.content.text(:question) %></dt>
          <dd class="mt-4 lg:col-span-7 lg:mt-0">
            <p class="text-base leading-7 text-gray-600"><%= faq.content.text(:answer) %></p>
          </dd>
        </div>
      <% end %>
    </dl>
  </div>

  <!-- CTA section -->
  <%= render "default/shared/cta", heading: content.text(:cta_heading), subheading: content.text(:cta_subheading) %>
</main>
